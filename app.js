var worldCup = [
  {
    name: "World Cup 2018",
    groups: [
      {
        name: "Group A",
        standings: [
          {
            team: {
              name: "Uruguay",
              code: "URU",
            },
            pos: 1,
            played: 3,
            won: 3,
            drawn: 0,
            lost: 0,
            goals_for: 5,
            goals_against: 0,
            pts: 9,
          },
          {
            team: {
              name: "Russia",
              code: "RUS",
            },
            pos: 2,
            played: 3,
            won: 2,
            drawn: 0,
            lost: 1,
            goals_for: 8,
            goals_against: 4,
            pts: 6,
          },
          {
            team: {
              name: "Saudi Arabia",
              code: "KSA",
            },
            pos: 3,
            played: 3,
            won: 1,
            drawn: 0,
            lost: 2,
            goals_for: 2,
            goals_against: 7,
            pts: 3,
          },
          {
            team: {
              name: "Egypt",
              code: "EGY",
            },
            pos: 4,
            played: 3,
            won: 0,
            drawn: 0,
            lost: 3,
            goals_for: 2,
            goals_against: 6,
            pts: 0,
          },
        ],
      },
      {
        name: "Group B",
        standings: [
          {
            team: {
              name: "Spain",
              code: "ESP",
            },
            pos: 1,
            played: 3,
            won: 1,
            drawn: 2,
            lost: 0,
            goals_for: 6,
            goals_against: 5,
            pts: 5,
          },
          {
            team: {
              name: "Portugal",
              code: "POR",
            },
            pos: 2,
            played: 3,
            won: 1,
            drawn: 2,
            lost: 0,
            goals_for: 5,
            goals_against: 4,
            pts: 5,
          },
          {
            team: {
              name: "Iran",
              code: "IRN",
            },
            pos: 3,
            played: 3,
            won: 1,
            drawn: 1,
            lost: 1,
            goals_for: 2,
            goals_against: 2,
            pts: 4,
          },
          {
            team: {
              name: "Morocco",
              code: "MAR",
            },
            pos: 4,
            played: 3,
            won: 0,
            drawn: 1,
            lost: 2,
            goals_for: 2,
            goals_against: 4,
            pts: 1,
          },
        ],
      },
      {
        name: "Group C",
        standings: [
          {
            team: {
              name: "France",
              code: "FRA",
            },
            pos: 1,
            played: 3,
            won: 2,
            drawn: 1,
            lost: 0,
            goals_for: 3,
            goals_against: 1,
            pts: 7,
          },
          {
            team: {
              name: "Denmark",
              code: "DEN",
            },
            pos: 2,
            played: 3,
            won: 1,
            drawn: 2,
            lost: 0,
            goals_for: 2,
            goals_against: 1,
            pts: 5,
          },
          {
            team: {
              name: "Peru",
              code: "PER",
            },
            pos: 3,
            played: 3,
            won: 1,
            drawn: 0,
            lost: 2,
            goals_for: 2,
            goals_against: 2,
            pts: 3,
          },
          {
            team: {
              name: "Australia",
              code: "AUS",
            },
            pos: 4,
            played: 3,
            won: 0,
            drawn: 1,
            lost: 2,
            goals_for: 2,
            goals_against: 5,
            pts: 1,
          },
        ],
      },
      {
        name: "Group D",
        standings: [
          {
            team: {
              name: "Croatia",
              code: "CRO",
            },
            pos: 1,
            played: 3,
            won: 3,
            drawn: 0,
            lost: 0,
            goals_for: 7,
            goals_against: 1,
            pts: 9,
          },
          {
            team: {
              name: "Argentina",
              code: "ARG",
            },
            pos: 2,
            played: 3,
            won: 1,
            drawn: 1,
            lost: 1,
            goals_for: 3,
            goals_against: 5,
            pts: 4,
          },
          {
            team: {
              name: "Nigeria",
              code: "NGA",
            },
            pos: 3,
            played: 3,
            won: 1,
            drawn: 0,
            lost: 2,
            goals_for: 3,
            goals_against: 4,
            pts: 3,
          },
          {
            team: {
              name: "Iceland",
              code: "ISL",
            },
            pos: 4,
            played: 3,
            won: 0,
            drawn: 1,
            lost: 2,
            goals_for: 2,
            goals_against: 5,
            pts: 1,
          },
        ],
      },
      {
        name: "Group E",
        standings: [
          {
            team: {
              name: "Brazil",
              code: "BRA",
            },
            pos: 1,
            played: 3,
            won: 2,
            drawn: 1,
            lost: 0,
            goals_for: 5,
            goals_against: 1,
            pts: 7,
          },
          {
            team: {
              name: "Switzerland",
              code: "SUI",
            },
            pos: 2,
            played: 3,
            won: 1,
            drawn: 2,
            lost: 0,
            goals_for: 5,
            goals_against: 4,
            pts: 5,
          },
          {
            team: {
              name: "Serbia",
              code: "SRB",
            },
            pos: 3,
            played: 3,
            won: 1,
            drawn: 0,
            lost: 2,
            goals_for: 2,
            goals_against: 4,
            pts: 3,
          },
          {
            team: {
              name: "Costa Rica",
              code: "CRC",
            },
            pos: 4,
            played: 3,
            won: 0,
            drawn: 1,
            lost: 2,
            goals_for: 2,
            goals_against: 5,
            pts: 1,
          },
        ],
      },
      {
        name: "Group F",
        standings: [
          {
            team: {
              name: "Sweden",
              code: "SWE",
            },
            pos: 1,
            played: 3,
            won: 2,
            drawn: 0,
            lost: 1,
            goals_for: 5,
            goals_against: 2,
            pts: 6,
          },
          {
            team: {
              name: "Mexico",
              code: "MEX",
            },
            pos: 2,
            played: 3,
            won: 2,
            drawn: 0,
            lost: 1,
            goals_for: 3,
            goals_against: 4,
            pts: 6,
          },
          {
            team: {
              name: "South Korea",
              code: "KOR",
            },
            pos: 3,
            played: 3,
            won: 1,
            drawn: 0,
            lost: 2,
            goals_for: 3,
            goals_against: 3,
            pts: 3,
          },
          {
            team: {
              name: "Germany",
              code: "GER",
            },
            pos: 4,
            played: 3,
            won: 1,
            drawn: 0,
            lost: 2,
            goals_for: 2,
            goals_against: 4,
            pts: 3,
          },
        ],
      },
      {
        name: "Group G",
        standings: [
          {
            team: {
              name: "Belgium",
              code: "BEL",
            },
            pos: 1,
            played: 3,
            won: 3,
            drawn: 0,
            lost: 0,
            goals_for: 9,
            goals_against: 2,
            pts: 9,
          },
          {
            team: {
              name: "England",
              code: "ENG",
            },
            pos: 2,
            played: 3,
            won: 2,
            drawn: 0,
            lost: 1,
            goals_for: 8,
            goals_against: 3,
            pts: 6,
          },
          {
            team: {
              name: "Tunisia",
              code: "TUN",
            },
            pos: 3,
            played: 3,
            won: 1,
            drawn: 0,
            lost: 2,
            goals_for: 5,
            goals_against: 8,
            pts: 3,
          },
          {
            team: {
              name: "Panama",
              code: "PAN",
            },
            pos: 4,
            played: 3,
            won: 0,
            drawn: 0,
            lost: 3,
            goals_for: 2,
            goals_against: 11,
            pts: 0,
          },
        ],
      },
      {
        name: "Group H",
        standings: [
          {
            team: {
              name: "Colombia",
              code: "COL",
            },
            pos: 1,
            played: 3,
            won: 2,
            drawn: 0,
            lost: 1,
            goals_for: 5,
            goals_against: 2,
            pts: 6,
          },
          {
            team: {
              name: "Japan",
              code: "JPN",
            },
            pos: 2,
            played: 3,
            won: 1,
            drawn: 1,
            lost: 1,
            goals_for: 4,
            goals_against: 4,
            pts: 4,
          },
          {
            team: {
              name: "Senegal",
              code: "SEN",
            },
            pos: 3,
            played: 3,
            won: 1,
            drawn: 1,
            lost: 1,
            goals_for: 4,
            goals_against: 4,
            pts: 4,
          },
          {
            team: {
              name: "Poland",
              code: "POL",
            },
            pos: 4,
            played: 3,
            won: 1,
            drawn: 0,
            lost: 2,
            goals_for: 2,
            goals_against: 5,
            pts: 3,
          },
        ],
      },
    ],
  },
];

var main = document.getElementById("main");
for (var key of worldCup) {
  // console.log(key)
  for (var key1 in key) {
    if (typeof key[key1] === "object") {
      // console.log(key[key1])
      for (var key2 of key[key1]) {
        // console.log(key2)
        var groupDiv = document.createElement("div");
        main.appendChild(groupDiv);
        groupDiv.innerText = key2.name;
        groupDiv.className = "group-div";
        groupDiv.setAttribute("onclick", "handleShowModal(event)");
      }
    }
  }
}

var cont;
function handleShowModal(e) {
  var modalMain = document.getElementsByClassName("modal-main")[0];
  // console.log(modalMain)
  modalMain.style.display = "flex";
  var targettedElm = e.target.innerText;
  // console.log(targettedElm);
  cont = document.getElementsByClassName("cont")[0];
  var test = document.createElement("p");
  cont.appendChild(test);
  var contTable = document.createElement("div");
  contTable.className = "cont-table";
  cont.appendChild(contTable);
  var table = document.createElement("table");
  contTable.appendChild(table);
  // for (var i = 0; i < 6; i++) {
  //   var tr = docume;
  // }
  for (i = 1; i <= 1; i++) {
    var tr = document.createElement("tr");
    table.appendChild(tr);
    for (j = 1; j <= 10; j++) {
      var th = document.createElement("th");
      tr.appendChild(th);
      if (j === 1) {
        th.innerText = "Team";
      } else if (j === 2) {
        th.innerText = "code";
      } else if (j === 3) {
        th.innerText = "Position";
      } else if (j === 4) {
        th.innerText = "Played";
      } else if (j === 5) {
        th.innerText = "Won";
      } else if (j === 6) {
        th.innerText = "Draw";
      } else if (j === 7) {
        th.innerText = "Lost";
      } else if (j === 8) {
        th.innerText = "GF";
      } else if (j === 9) {
        th.innerText = "GA";
      } else if (j === 10) {
        th.innerText = "Pts";
      }
    }
  }
  /******getting group arr*****/
  console.log(worldCup[0].groups);
  for (var keyGroup of worldCup[0].groups) {
    /**********print all group object***********/
    console.log(keyGroup);
    /*************targetting selected group****************/
    if (targettedElm === keyGroup.name) {
      /*************printing group name in cont box************/
      console.log(keyGroup.name);
      test.innerText = keyGroup.name;
      /**************getting selectedgroup standings array***************/
      console.log(keyGroup.standings);
      /***************looping standings array*****************/
      for (var keyStandingArr of keyGroup.standings) {
        /***********printing all standings object************/
        console.log(keyStandingArr);
        /**************creating rows for standings objects****************/
        var tr = document.createElement("tr");
        table.appendChild(tr);
        /*************printing team names directly**************/
        // console.log(keyStanding.team.name);
        /***************creating columns for data according to standing object properties for which looping on standing objects*************/
        for (var keySatndingObj in keyStandingArr) {
          /****************printing standings properties***************/
          // console.log(keyStandingArr[keySatndingObj]);
          if (typeof keyStandingArr[keySatndingObj] === "object") {
            // console.log("test");
            console.log(keyStandingArr[keySatndingObj]);
            /***************looping team object for getting team properties*****************/
            for (var keyTeamObj in keyStandingArr[keySatndingObj]) {
              console.log(keyStandingArr[keySatndingObj][keyTeamObj]);
              var td1 = document.createElement("td");
              tr.appendChild(td1);
              td1.innerText = keyStandingArr[keySatndingObj][keyTeamObj];
            }
          } else {
            var td = document.createElement("td");
            tr.appendChild(td);
            /*****************checking type of team object******************/
            td.innerText = keyStandingArr[keySatndingObj];
          }
        }
      }
    }
  }
}

function handleClose() {
  var modalMain = document.getElementsByClassName("modal-main")[0];
  // console.log(modalMain)
  modalMain.style.display = "none";
  cont = document.getElementsByClassName("cont")[0];
  cont.innerHTML = "";
}
